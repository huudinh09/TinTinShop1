(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[78,34],{JsYF:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n("sp7v"),a=n("W0B4"),r=n("mXGw");n("NrWm");var i=n("UutA");n("8Jek");var l=n("VOKr");n("H2QC");var u=n("edSL"),d=n("xARA");function c(e){return e&&"object"===typeof e&&"default"in e?e:{default:e}}var s=c(a),f=c(r),p=c(i),g=c(u),m=c(d);function h(e,t){var n=e.pixelWidth,a=o._objectWithoutProperties(e,["pixelWidth"]),i=n-8;return r.createElement("svg",o._extends({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",viewBox:"0 0 ".concat(n," 132"),ref:t},a),r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("g",null,r.createElement("g",null,r.createElement("g",null,r.createElement("g",null,r.createElement("g",null,r.createElement("g",{transform:"translate(-3160 -3100) translate(3118 80) translate(42 2487) translate(0 449) translate(0 48) translate(0 36)"},r.createElement("path",{stroke:"#017FFF",fill:"#E5F2FF",d:"M ".concat(i," 0.5 c 2.071 0 3.946 0.84 5.303 2.197 c 1.358 1.357 2.197 3.232 2.197 5.303 h 0 v 116 c 0 2.071 -0.84 3.946 -2.197 5.303 c -1.357 1.358 -3.232 2.197 -5.303 2.197 h 0 H 140.986 c -0.125 -2.148 -1.047 -4.082 -2.475 -5.51 c -1.539 -1.54 -3.664 -2.49 -6.011 -2.49 s -4.472 0.95 -6.01 2.489 c -1.429 1.428 -2.35 3.362 -2.476 5.51 h 0 l -116.014 0.001 c -2.071 0 -3.946 -0.84 -5.303 -2.197 c -1.358 -1.357 -2.197 -3.232 -2.197 -5.303 h 0 V 8 c 0 -2.071 0.84 -3.946 2.197 -5.303 c 1.357 -1.358 3.232 -2.197 5.303 -2.197 h 116.014 c 0.125 2.148 1.047 4.082 2.476 5.51 c 1.538 1.539 3.663 2.49 6.01 2.49 s 4.472 -0.951 6.01 -2.49 c 1.429 -1.428 2.35 -3.362 2.476 -5.51 H 140.986 z")}),r.createElement("g",{stroke:"#017FFF",strokeDasharray:"2 4",strokeLinecap:"square",mask:"url(#2nm5hm2qlb)"},r.createElement("path",{d:"M0.5 0L0.5 114",transform:"translate(132 11)"}))))))))))}var v=r.forwardRef(h);function x(e,t){var n=e.pixelWidth,a=o._objectWithoutProperties(e,["pixelWidth"]),i=n-8;return r.createElement("svg",o._extends({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",viewBox:"0 0 ".concat(n," 132"),ref:t},a),r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("g",null,r.createElement("g",null,r.createElement("g",null,r.createElement("g",null,r.createElement("g",null,r.createElement("g",{transform:"translate(-3160 -2828) translate(3118 80) translate(42 2487) translate(0 140) translate(0 85) translate(0 36)"},r.createElement("path",{fill:"#FFF",d:"M".concat(i," 0c4.418 0 8 3.582 8 8v116c0 4.418-3.582 8-8 8H140.5c0-4.419-3.582-8-8-8s-8 3.581-8 8H8c-4.418 0-8-3.582-8-8V8c0-4.418 3.582-8 8-8h116.5c0 4.418 3.582 8 8 8s8-3.582 8-8H392z")}),r.createElement("g",{stroke:"#EEE",strokeDasharray:"2 4",strokeLinecap:"square",mask:"url(#14s2l20tnb)"},r.createElement("path",{d:"M0.5 0L0.5 114",transform:"translate(132 11)"}))))))))))}var E,b,w=r.forwardRef(x),y=(E={},o._defineProperty(E,l.CouponType.FULL,{WIDTH:400,HEIGHT:132}),o._defineProperty(E,l.CouponType.MINI,{WIDTH:232,HEIGHT:218}),o._defineProperty(E,l.CouponType.MINI_NO_ICON,{WIDTH:232,HEIGHT:148}),o._defineProperty(E,l.CouponType.LITE,{WIDTH:286,HEIGHT:60}),E),C=function(e){return y[e].HEIGHT/y[e].WIDTH},_=(b={},o._defineProperty(b,l.CouponType.MINI,C(l.CouponType.MINI)),o._defineProperty(b,l.CouponType.MINI_NO_ICON,C(l.CouponType.MINI_NO_ICON)),b);function I(){var e=o._taggedTemplateLiteral(["\n  position: relative;\n  opacity: ",";\n  width: 100%;\n  height: ",";\n"]);return I=function(){return e},e}function T(){var e=o._taggedTemplateLiteral(["\n  ","\n"]);return T=function(){return e},e}function k(){var e=o._taggedTemplateLiteral(["\n  position: relative;\n  opacity: ",";\n  width: 100%;\n  padding-bottom: ",";\n"]);return k=function(){return e},e}var L=p.default(o.Box)(k(),(function(e){return e.visible?1:0}),(function(e){var t=e.type;return"calc(100% * ".concat(_[t],")")})),A=p.default(o.Box)(T(),o.getAbsoluteStyle()),B=p.default(o.Box)(I(),(function(e){return e.visible?1:0}),(function(e){var t=e.type;return"".concat(y[t].HEIGHT,"px")})),F=function(e){var t=e.children,n=o._objectWithoutProperties(e,["children"]);return f.default.createElement(L,n,f.default.createElement(A,null,t))};function S(){var e=o._taggedTemplateLiteral(["\n  position: absolute;\n  width: 82px;\n  height: 64px;\n"]);return S=function(){return e},e}F.defaultProps={type:l.CouponType.FULL};var D=o.getBox("img"),R=p.default(D)(S());function O(){var e=o._taggedTemplateLiteral(["\n  ",";\n  display: flex;\n"]);return O=function(){return e},e}function H(){var e=o._taggedTemplateLiteral(["\n  position: relative;\n  display: flex;\n  height: 100%;\n"]);return H=function(){return e},e}function P(){var e=o._taggedTemplateLiteral(["\n  display: flex;\n  position: relative;\n\n  ","\n\n  .coupon-bg {\n    width: 100%;\n    height: ",";\n    filter: drop-shadow(0px 1px 3px ",");\n  }\n"]);return P=function(){return e},e}var N=p.default(o.Box)(P(),(function(e){var t=e.type;return"\n      width: ".concat(y[t].WIDTH,"px;\n    ")}),(function(e){var t=e.type;return"".concat(y[t].HEIGHT,"px")}),o.colors.shadow),W=p.default(o.Box)(H()),z=p.default(o.Box)(O(),o.getAbsoluteStyle()),M=function(e){switch(e){case l.CouponStatus.SAVED:return l.savedStamp;case l.CouponStatus.EXPIRED:return l.expiredStamp;case l.CouponStatus.NOT_ELIGIBLE:return l.notEligibleStamp;default:return""}};function V(){var e=o._taggedTemplateLiteral(["\n  font-weight: 500;\n  letter-spacing: 0;\n  cursor: pointer;\n  text-align: center;\n  border-radius: 4px;\n  outline: none;\n  width: ",";\n  font-size: 15px;\n  line-height: 24px;\n  padding: 2px 12px;\n  ",";\n"]);return V=function(){return e},e}var j=o.getBox("button"),G=p.default(j)(V(),(function(e){return e.fullWidth&&"100%"}),(function(e){var t=e.type;return"primary"===t?"\n        color: ".concat(o.colors.white,";\n        background-color: ").concat(o.colors.deepSkyBlue,";\n        border: none;\n      "):"secondary"===t?"\n        color: ".concat(o.colors.deepSkyBlue,";\n        background-color: ").concat(o.colors.white,";\n        border: 1px solid ").concat(o.colors.deepSkyBlue,";\n      "):""})),X=function(e){return f.default.createElement(G,e)};function q(){var e=o._taggedTemplateLiteral(["\n  font-size: 13px;\n  line-height: 20px;\n  letter-spacing: -0.4px;\n  margin: 0;\n  text-align: center;\n"]);return q=function(){return e},e}function Y(){var e=o._taggedTemplateLiteral(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  margin-bottom: 8px;\n\n  img {\n    width: 40px;\n    height: 40px;\n    object-fit: contain;\n  }\n"]);return Y=function(){return e},e}function U(){var e=o._taggedTemplateLiteral(["\n  width: 280px;\n  opacity: 0.95;\n  border-radius: 16px;\n  padding: 16px;\n  display: ",";\n  position: fixed;\n  left: 50%;\n  transform: translateX(-50%);\n  ",";\n  z-index: ",";\n  animation: "," ","ms ease-in-out;\n\n  ","\n"]);return U=function(){return e},e}X.propTypes={type:s.default.oneOf(["primary","secondary"]),fullWidth:s.default.bool},X.defaultProps={type:"primary",fullWidth:!1};var J=i.keyframes(["0%,100%{opacity:0;}10%,90%{opacity:1;}"]),K=p.default(o.Box)(U(),(function(e){return e.show?"block":"none"}),(function(e){return"success"===e.type?"\n        top: 50%;\n        transform: translate(-50%, -50%);\n      ":"\n      bottom: 50px;\n    "}),o.zIndex.toast,J,(function(e){return e.timeout}),(function(e){var t=e.type;return"success"===t?"\n        color: ".concat(o.colors.deepGreen,";\n        background-color: ").concat(o.colors.lightSage,"\n      "):"warning"===t?"\n        color: ".concat(o.colors.red,";\n        background-color: ").concat(o.colors.lightRed,"\n      "):"failure"===t?"\n        color: ".concat(o.colors.white,";\n        background-color: ").concat(o.colors.failure,";\n        min-width: 400px;\n        padding: 14px 16px;\n        border-radius: 8px;\n      "):""})),Q=p.default(o.Box)(Y()),Z=o.getBox("p"),$=p.default(Z)(q()),ee=function(e){var t=e.icon,n=e.type,a=void 0===n?"success":n,i=e.show,u=void 0!==i&&i,d=e.message,c=e.onHide,s=e.timeout,p=void 0===s?2e3:s,g=o._objectWithoutProperties(e,["icon","type","show","message","onHide","timeout"]),h=r.useState(null),v=o._slicedToArray(h,2),x=v[0],E=v[1];r.useEffect((function(){E(document.body)}),[]);var b=t;if("string"===typeof t)switch(t){case"success":b=f.default.createElement("img",{src:l.successIcon,alt:"success-icon"});break;default:b=null}return x&&u?m.default.createPortal(f.default.createElement("div",{className:"tiki-common-ui-toast"},f.default.createElement(K,o._extends({show:u,onAnimationEnd:c,timeout:p,type:a},g),b&&f.default.createElement(Q,null,b),f.default.createElement($,null,d))),x):f.default.createElement(f.default.Fragment,null)};function te(){var e=o._taggedTemplateLiteral(["\n  ","\n\n  font-size: 11px;\n  font-weight: 400;\n  line-height: 16px;\n  max-height: 32px;\n  -webkit-line-clamp: 2;\n  color: ",";\n"]);return te=function(){return e},e}function ne(){var e=o._taggedTemplateLiteral(["\n  ","\n\n  font-size: 13px;\n  font-weight: 400;\n  line-height: 20px;\n  max-height: 20px;\n  color: ",";\n"]);return ne=function(){return e},e}function oe(){var e=o._taggedTemplateLiteral(["\n  ","\n\n  font-size: 17px;\n  font-weight: 500;\n  line-height: 24px;\n  max-height: 24px;\n  color: ",";\n"]);return oe=function(){return e},e}ee.propTypes={show:s.default.bool,message:s.default.string.isRequired,type:s.default.oneOf(["success","warning","failure"]),icon:s.default.oneOfType([s.default.oneOf(["success"]),s.default.node]),onHide:s.default.func.isRequired,timeout:s.default.number};var ae="\n  display: -webkit-box;\n  -webkit-box-orient: vertical;\n  -webkit-line-clamp: 1;\n  overflow: hidden;\n  text-overflow: ellipsis;  \n  letter-spacing: 0;\n  margin: 0;\n  padding: 0;\n",re=function(e){return e?o.colors.warmGrey:o.colors.black},ie=o.getBox("h4"),le=p.default(ie)(oe(),ae,(function(e){var t=e.disabled;return re(t)})),ue=o.getBox("p"),de=p.default(ue)(ne(),ae,o.colors.warmGrey),ce=p.default(ue)(te(),ae,(function(e){var t=e.disabled;return re(t)}));function se(){var e=o._taggedTemplateLiteral(["\n  cursor: pointer;\n"]);return se=function(){return e},e}function fe(){var e=o._taggedTemplateLiteral(["\n  list-style: disc;\n  padding: 0 16px;\n  margin: 0;\n  margin-top: -16px;\n"]);return fe=function(){return e},e}function pe(){var e=o._taggedTemplateLiteral(["\n  display: -webkit-box;\n  -webkit-box-orient: vertical;\n  -webkit-line-clamp: 1;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  padding: 0px;\n  word-break: break-all;\n"]);return pe=function(){return e},e}function ge(){var e=o._taggedTemplateLiteral(["\n  padding: 12px 24px;\n  font-size: 13px;\n  line-height: 20px;\n  color: ",";\n"]);return ge=function(){return e},e}function me(){var e=o._taggedTemplateLiteral(["\n  width: 33%;\n  min-width: 110px;\n  flex: none;\n  padding: 12px 24px;\n  font-size: 13px;\n  line-height: 20px;\n  color: ",";\n"]);return me=function(){return e},e}function he(){var e=o._taggedTemplateLiteral(["\n  display: flex;\n  flex-flow: ",";\n  align-items: center;\n\n  &:nth-child(odd) {\n    background-color: #fafafa;\n  }\n"]);return he=function(){return e},e}function ve(){var e=o._taggedTemplateLiteral(["\n  ","\n  font-size: 24px;\n  line-height: 32px;\n  max-height: 32px;\n  font-weight: 500;\n  margin: 0px 16px 16px;\n  color: ",";\n  text-align: center;\n"]);return ve=function(){return e},e}function xe(){var e=o._taggedTemplateLiteral([""]);return xe=function(){return e},e}var Ee=p.default(o.Box)(xe()),be=(p.default.h4(ve(),ae,o.colors.black),p.default(o.Box)(he(),(function(e){return e.rowWrap&&"row wrap"}))),we=p.default(o.Box)(me(),o.colors.warmGrey),ye=p.default(o.Box)(ge(),o.colors.black),Ce=p.default(ye)(pe()),_e=p.default.ul(fe()),Ie=p.default.img(se()),Te=function(e){var t=e.popoverInfo,n=e.hideTooltipCouponCode,a=e.dataViewIndex,i=r.useRef(null),u=r.useState(!1),d=o._slicedToArray(u,2),c=d[0],s=d[1],p=t.coupon_code,g=t.long_description,m=t.period.split(" "),h=m[m.length-1]||"",v=Array.isArray(g)?g:g.split("\n"),x=r.useCallback((function(){i.current&&(i.current.hidden=!1,i.current.select(),i.current.setSelectionRange(0,999999),document.execCommand("copy"),s(!0),i.current.hidden=!0)}),[]),E=r.useCallback((function(){s(!1)}),[]);return f.default.createElement(Ee,null,n?f.default.createElement("div",null):f.default.createElement(be,{pr:16},f.default.createElement(we,null,"M\xe3"),f.default.createElement(Ce,{pr:8},p),f.default.createElement(Ie,{src:l.copyIcon,onClick:x,alt:"copy-icon","data-view-id":"coupon_copy_button","data-view-index":a}),f.default.createElement("input",{ref:i,type:"text",hidden:!0,value:p,readOnly:!0,style:{top:-9999,position:"fixed",zIndex:-1,textIndent:"-9999px",border:"none !important",outline:"none !important",pointerEvents:"none"}})),f.default.createElement(be,{pr:16},f.default.createElement(we,null,"H\u1ea1n s\u1eed d\u1ee5ng"),f.default.createElement(Ce,null,h)),f.default.createElement(be,{rowWrap:!0},f.default.createElement(we,null,"\u0110i\u1ec1u ki\u1ec7n"),f.default.createElement(ye,{width:"100%"},f.default.createElement(_e,null,v.map((function(e){return f.default.createElement("li",{key:e},e)}))))),f.default.createElement(ee,{show:c,onHide:E,icon:f.default.createElement("img",{src:l.successIcon,alt:"success-icon"}),message:"M\xe3 gi\u1ea3m gi\xe1 \u0111\xe3 \u0111\u01b0\u1ee3c sao ch\xe9p th\xe0nh c\xf4ng"}))};Te.propTypes={popoverInfo:s.default.shape({coupon_code:s.default.string,period:s.default.string,long_description:s.default.oneOfType([s.default.string,s.default.array])}),hideTooltipCouponCode:s.default.bool};var ke=f.default.memo(Te);function Le(){return(Le=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}var Ae="undefined"!==typeof window?r.useLayoutEffect:r.useEffect,Be={popupContent:{tooltip:{position:"absolute",zIndex:999},modal:{position:"relative",margin:"auto"}},popupArrow:{height:"8px",width:"16px",position:"absolute",background:"transparent",color:"#FFF",zIndex:-1},overlay:{tooltip:{position:"fixed",top:"0",bottom:"0",left:"0",right:"0",zIndex:999},modal:{position:"fixed",top:"0",bottom:"0",left:"0",right:"0",display:"flex",zIndex:999}}},Fe=["top left","top center","top right","right top","right center","right bottom","bottom left","bottom center","bottom right","left top","left center","left bottom"],Se=function(e,t,n,o,a){var r=a.offsetX,i=a.offsetY,l=o?8:0,u=n.split(" "),d=e.top+e.height/2,c=e.left+e.width/2,s=t.height,f=t.width,p=d-s/2,g=c-f/2,m="",h="0%",v="0%";switch(u[0]){case"top":p-=s/2+e.height/2+l,m="rotate(180deg)  translateX(50%)",h="100%",v="50%";break;case"bottom":p+=s/2+e.height/2+l,m="rotate(0deg) translateY(-100%) translateX(-50%)",v="50%";break;case"left":g-=f/2+e.width/2+l,m=" rotate(90deg)  translateY(50%) translateX(-25%)",v="100%",h="50%";break;case"right":g+=f/2+e.width/2+l,m="rotate(-90deg)  translateY(-150%) translateX(25%)",h="50%"}switch(u[1]){case"top":p=e.top,h=e.height/2+"px";break;case"bottom":p=e.top-s+e.height,h=s-e.height/2+"px";break;case"left":g=e.left,v=e.width/2+"px";break;case"right":g=e.left-f+e.width,v=f-e.width/2+"px"}return{top:p="top"===u[0]?p-i:p+i,left:g="left"===u[0]?g-r:g+r,transform:m,arrowLeft:v,arrowTop:h}},De=function(e,t,n,o,a,r){var i=a.offsetX,l=a.offsetY,u={arrowLeft:"0%",arrowTop:"0%",left:0,top:0,transform:"rotate(135deg)"},d=0,c=function(e){var t={top:0,left:0,width:window.innerWidth,height:window.innerHeight};if("string"===typeof e){var n=document.querySelector(e);null!==n&&(t=n.getBoundingClientRect())}return t}(r),s=Array.isArray(n)?n:[n];for((r||Array.isArray(n))&&(s=[].concat(s,Fe));d<s.length;){var f={top:(u=Se(e,t,s[d],o,{offsetX:i,offsetY:l})).top,left:u.left,width:t.width,height:t.height};if(!(f.top<=c.top||f.left<=c.left||f.top+f.height>=c.top+c.height||f.left+f.width>=c.left+c.width))break;d++}return u},Re=0,Oe=r.forwardRef((function(e,t){var n=e.trigger,o=void 0===n?null:n,a=e.onOpen,i=void 0===a?function(){}:a,l=e.onClose,u=void 0===l?function(){}:l,d=e.defaultOpen,c=void 0!==d&&d,s=e.open,p=void 0===s?void 0:s,g=e.disabled,h=void 0!==g&&g,v=e.nested,x=void 0!==v&&v,E=e.closeOnDocumentClick,b=void 0===E||E,w=e.repositionOnResize,y=void 0===w||w,C=e.closeOnEscape,_=void 0===C||C,I=e.on,T=void 0===I?["click"]:I,k=e.contentStyle,L=void 0===k?{}:k,A=e.arrowStyle,B=void 0===A?{}:A,F=e.overlayStyle,S=void 0===F?{}:F,D=e.className,R=void 0===D?"":D,O=e.position,H=void 0===O?"bottom center":O,P=e.modal,N=void 0!==P&&P,W=e.lockScroll,z=void 0!==W&&W,M=e.arrow,V=void 0===M||M,j=e.offsetX,G=void 0===j?0:j,X=e.offsetY,q=void 0===X?0:X,Y=e.mouseEnterDelay,U=void 0===Y?100:Y,J=e.mouseLeaveDelay,K=void 0===J?100:J,Q=e.keepTooltipInside,Z=void 0!==Q&&Q,$=e.children,ee=r.useState(p||c),te=ee[0],ne=ee[1],oe=r.useRef(null),ae=r.useRef(null),re=r.useRef(null),ie=r.useRef(null),le=r.useRef("popup-"+ ++Re),ue=!!N||!o,de=r.useRef(0);Ae((function(){return te?(ie.current=document.activeElement,we(),xe(),he()):ve(),function(){clearTimeout(de.current)}}),[te]),r.useEffect((function(){"boolean"===typeof p&&(p?ce():se())}),[p,h]);var ce=function(){te||h||(ne(!0),setTimeout(i,0))},se=function(){te&&!h&&(ne(!1),ue&&ie.current.focus(),setTimeout(u,0))},fe=function(e){null===e||void 0===e||e.stopPropagation(),te?se():ce()},pe=function(){clearTimeout(de.current),de.current=setTimeout(ce,U)},ge=function(e){null===e||void 0===e||e.preventDefault(),fe()},me=function(){clearTimeout(de.current),de.current=setTimeout(se,K)},he=function(){ue&&z&&(document.getElementsByTagName("body")[0].style.overflow="hidden")},ve=function(){ue&&z&&(document.getElementsByTagName("body")[0].style.overflow="auto")},xe=function(){var e,t=null===ae||void 0===ae||null===(e=ae.current)||void 0===e?void 0:e.querySelectorAll('a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), [tabindex="0"]'),n=Array.prototype.slice.call(t)[0];null===n||void 0===n||n.focus()};r.useImperativeHandle(t,(function(){return{open:function(){ce()},close:function(){se()},toggle:function(){fe()}}}));var Ee,be,we=function(){if(!ue&&te&&(null===oe||void 0===oe?void 0:oe.current)&&(null===oe||void 0===oe?void 0:oe.current)&&(null===ae||void 0===ae?void 0:ae.current)){var e,t,n=oe.current.getBoundingClientRect(),o=ae.current.getBoundingClientRect(),a=De(n,o,H,V,{offsetX:G,offsetY:q},Z);if(ae.current.style.top=a.top+window.scrollY+"px",ae.current.style.left=a.left+window.scrollX+"px",V&&re.current)re.current.style.transform=a.transform,re.current.style.setProperty("-ms-transform",a.transform),re.current.style.setProperty("-webkit-transform",a.transform),re.current.style.top=(null===(e=B.top)||void 0===e?void 0:e.toString())||a.arrowTop,re.current.style.left=(null===(t=B.left)||void 0===t?void 0:t.toString())||a.arrowLeft}};Ee=se,void 0===(be=_)&&(be=!0),r.useEffect((function(){if(be){var e=function(e){"Escape"===e.key&&Ee()};return document.addEventListener("keyup",e),function(){be&&document.removeEventListener("keyup",e)}}}),[Ee,be]),function(e,t){void 0===t&&(t=!0),r.useEffect((function(){if(t){var n=function(t){if(9===t.keyCode){var n,o=null===e||void 0===e||null===(n=e.current)||void 0===n?void 0:n.querySelectorAll('a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), [tabindex="0"]'),a=Array.prototype.slice.call(o);if(1===a.length)return void t.preventDefault();var r=a[0],i=a[a.length-1];t.shiftKey&&document.activeElement===r?(t.preventDefault(),i.focus()):document.activeElement===i&&(t.preventDefault(),r.focus())}};return document.addEventListener("keydown",n),function(){t&&document.removeEventListener("keydown",n)}}}),[e,t])}(ae,te&&ue),function(e,t){void 0===t&&(t=!0),r.useEffect((function(){if(t){var n=function(){e()};return window.addEventListener("resize",n),function(){t&&window.removeEventListener("resize",n)}}}),[e,t])}(we,y),function(e,t,n){void 0===n&&(n=!0),r.useEffect((function(){if(n){var o=function(n){var o=Array.isArray(e)?e:[e],a=!1;o.forEach((function(e){e.current&&!e.current.contains(n.target)||(a=!0)})),n.stopPropagation(),a||t()};return document.addEventListener("mousedown",o),document.addEventListener("touchstart",o),function(){n&&(document.removeEventListener("mousedown",o),document.removeEventListener("touchstart",o))}}}),[e,t,n])}(o?[ae,oe]:[ae],se,b&&!x);var ye=function(){return f.default.createElement("div",Object.assign({},function(){var e=ue?Be.popupContent.modal:Be.popupContent.tooltip,t={className:"popup-content "+(""!==R?R.split(" ").map((function(e){return e+"-content"})).join(" "):""),style:Le({},e,L,{pointerEvents:"auto"}),ref:ae,onClick:function(e){e.stopPropagation()}};return!N&&T.indexOf("hover")>=0&&(t.onMouseEnter=pe,t.onMouseLeave=me),t}(),{key:"C",role:ue?"dialog":"tooltip",id:le.current}),V&&!ue&&f.default.createElement("div",{ref:re,style:Be.popupArrow},f.default.createElement("svg",{"data-testid":"arrow",className:"popup-arrow "+(""!==R?R.split(" ").map((function(e){return e+"-arrow"})).join(" "):""),viewBox:"0 0 32 16",style:Le({position:"absolute"},B)},f.default.createElement("path",{d:"M16 0l16 16H0z",fill:"currentcolor"}))),$&&"function"===typeof $?$(se,te):$)},Ce=!(T.indexOf("hover")>=0),_e=ue?Be.overlay.modal:Be.overlay.tooltip,Ie=[Ce&&f.default.createElement("div",{key:"O","data-testid":"overlay","data-popup":ue?"modal":"tooltip",className:"popup-overlay "+(""!==R?R.split(" ").map((function(e){return e+"-overlay"})).join(" "):""),style:Le({},_e,S,{pointerEvents:b&&x||ue?"auto":"none"}),onClick:b&&x?se:void 0,tabIndex:-1},ue&&ye()),!ue&&ye()];return f.default.createElement(f.default.Fragment,null,function(){for(var e={key:"T",ref:oe,"aria-describedby":le.current},t=Array.isArray(T)?T:[T],n=0,a=t.length;n<a;n++)switch(t[n]){case"click":e.onClick=fe;break;case"right-click":e.onContextMenu=ge;break;case"hover":e.onMouseEnter=pe,e.onMouseLeave=me;break;case"focus":e.onFocus=pe,e.onBlur=me}if("function"===typeof o){var r=o(te);return!!o&&f.default.cloneElement(r,e)}return!!o&&f.default.cloneElement(o,e)}(),te&&m.default.createPortal(Ie,function(){var e=document.getElementById("popup-root");return null===e&&((e=document.createElement("div")).setAttribute("id","popup-root"),document.body.appendChild(e)),e}()))}));function He(){var e=o._taggedTemplateLiteral(["\n  display: block;\n  background: transparent;\n  outline: none;\n  border: none;\n  padding: 8px;\n  cursor: pointer;\n  line-height: 0px;\n"]);return He=function(){return e},e}function Pe(){var e=o._taggedTemplateLiteral(["\n  cursor: pointer;\n"]);return Pe=function(){return e},e}var Ne=o.getBox("img"),We=o.getBox("button"),ze=p.default(Ne)(Pe()),Me=p.default(We)(He()),Ve=f.default.forwardRef((function(e,t){var n=e.disabled,a=e.popoverInfo,r=e.onClick,i=e.hideTooltipCouponCode,u=e.iconWidth,d=e.iconHeight,c=e.dataViewIndex,s=o._objectWithoutProperties(e,["disabled","popoverInfo","onClick","hideTooltipCouponCode","iconWidth","iconHeight","dataViewIndex"]),p=n?l.disabledInfoIcon:l.infoIcon,g=n?"disabled-info-icon":"info-icon";return f.default.createElement(Oe,{trigger:f.default.createElement(Me,o._extends({onClick:r,"data-view-id":"cart_coupon_view.coupon.rule","data-view-index":c},s,{ref:t}),f.default.createElement(ze,{src:p,alt:g,width:u,height:d})),on:["hover"],contentStyle:{width:400,padding:"24px 0",background:"white",boxShadow:"0px 1px 18px ".concat(o.colors.shadow),borderRadius:8,zIndex:o.zIndex.tooltip},keepTooltipInside:!0},f.default.createElement(ke,{popoverInfo:a,hideTooltipCouponCode:i,dataViewIndex:c}))}));function je(){var e=o._taggedTemplateLiteral(["\n  height: 20px;\n  border-radius: 2px;\n  background: ",";\n  color: ",";\n\n  font-size: 13px;\n  font-weight: 400;\n  line-height: 20px;\n  letter-spacing: 0;\n  text-align: center;\n  padding-left: 4px;\n  padding-right: 4px;\n  display: inline-block;\n\n  ","\n"]);return je=function(){return e},e}Ve.propTypes={disabled:s.default.bool,onClick:s.default.func,iconWidth:s.default.oneOfType([s.default.string,s.default.number]),iconHeight:s.default.oneOfType([s.default.string,s.default.number]),popoverInfo:s.default.shape({coupon_code:s.default.string,period:s.default.string,long_description:s.default.oneOfType([s.default.string,s.default.array])}).isRequired,hideTooltipCouponCode:s.default.bool};var Ge=p.default(o.Box)(je(),o.colors.iceBlue,o.colors.deepSkyBlue,(function(e){return e.disabled?"\n        background: ".concat(o.colors.lightGrey,";\n        color: ").concat(o.colors.warmGrey,";\n      "):""})),Xe=function(e){return f.default.createElement(Ge,e)};function qe(){var e=o._taggedTemplateLiteral(["\n  &:not(:first-child) {\n    margin-left: 4px;\n  }\n  white-space: nowrap;\n"]);return qe=function(){return e},e}function Ye(){var e=o._taggedTemplateLiteral(["\n  margin-top: auto;\n  display: flex;\n  align-items: flex-end;\n"]);return Ye=function(){return e},e}function Ue(){var e=o._taggedTemplateLiteral(["\n  display: flex;\n  margin-bottom: 2px;\n  overflow: hidden;\n  /* minus info icon width + spacing */\n  max-width: calc(100% - 20px - 8px);\n"]);return Ue=function(){return e},e}function Je(){var e=o._taggedTemplateLiteral(["\n  display: flex;\n  flex-direction: column;\n\n  padding: 12px;\n  /* full width minus left coupon icon width */\n  width: calc(100% - 132px);\n"]);return Je=function(){return e},e}Xe.propTypes={disabled:s.default.bool};var Ke=p.default(o.Box)(Je()),Qe=p.default(o.Box)(Ue()),Ze=p.default(o.Box)(Ye()),$e=p.default(Xe)(qe()),et=[l.CouponStatus.AVAILABLE,l.CouponStatus.ELIGIBLE,l.CouponStatus.APPLIED],tt=function(e){var t=e.detailInfo,n=e.status,a=e.disabled,r=e.onAction,i=e.hideActionButton,u=e.hideTooltipCouponCode,d=e.dataViewIndex,c=t.tags,s=t.short_title,p=t.short_description,g=t.period,m=t.coupon_code,h=t.long_description,v="L\u01b0u",x="coupon_save_button";n===l.CouponStatus.ELIGIBLE?(v="\xc1p D\u1ee5ng",x="coupon_apply_button"):n===l.CouponStatus.APPLIED&&(v="B\u1ecf Ch\u1ecdn",x=void 0);var E=et.includes(n);i&&(E=!i);var b={coupon_code:m,period:g,long_description:h};return f.default.createElement(Ke,null,Boolean(c.length)&&f.default.createElement(Qe,null,c.map((function(e){return f.default.createElement($e,{key:e,disabled:a},e)}))),f.default.createElement(Ve,{position:"absolute",top:12,right:12,transform:"translate(8px, -8px)",disabled:a,popoverInfo:b,hideTooltipCouponCode:u,dataViewIndex:d}),f.default.createElement(o.Box,{pr:28},f.default.createElement(le,{disabled:a},s),f.default.createElement(de,null,p)),f.default.createElement(Ze,null,f.default.createElement(de,{pr:8},g),E&&f.default.createElement(X,{ml:"auto",whiteSpace:"nowrap",onClick:r,"data-view-id":x,"data-view-index":d,"data-view-label":m},v)))};function nt(){var e=o._taggedTemplateLiteral(["\n  object-fit: contain;\n  border-radius: 8px;\n  filter: ",";\n  opacity: ",";\n"]);return nt=function(){return e},e}tt.propTypes={detailInfo:s.default.shape({short_title:s.default.string,short_description:s.default.string,period:s.default.string,tags:s.default.arrayOf(s.default.string),coupon_code:s.default.string,long_description:s.default.oneOfType([s.default.string,s.default.array])}),status:s.default.oneOf(Object.values(l.CouponStatus)),disabled:s.default.bool,hideActionButton:s.default.bool,onAction:s.default.func,hideTooltipCouponCode:s.default.bool};var ot=p.default(o.Image)(nt(),(function(e){return e.disabled&&"grayscale(1)"}),(function(e){return e.disabled&&"0.4 !important"}));function at(){var e=o._taggedTemplateLiteral(["\n  margin: 4px 4px 0px;\n  text-align: center;\n"]);return at=function(){return e},e}function rt(){var e=o._taggedTemplateLiteral(["\n  position: relative;\n  width: ",";\n  height: ",";\n"]);return rt=function(){return e},e}function it(){var e=o._taggedTemplateLiteral(["\n  min-width: 132px;\n  width: 132px;\n  height: 132px;\n\n  padding: 8px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  align-self: center;\n  justify-content: center;\n"]);return it=function(){return e},e}var lt=p.default(o.Box)(it()),ut=p.default(o.Box)(rt(),(function(e){return e.hasIconName?"60px":"116px"}),(function(e){return e.hasIconName?"60px":"116px"})),dt=p.default(o.Box)(at()),ct=function(e){var t=e.iconInfo,n=e.disabled,o=e.onImageClick,a=t.icon_url,r=t.icon_name,i=t.short_title,l=t.url;return f.default.createElement(lt,null,f.default.createElement(ut,{hasIconName:Boolean(r)},f.default.createElement(ot,{src:a,alt:r||i,ratio:1,disabled:n,onClick:o,href:l})),r&&f.default.createElement(dt,null,f.default.createElement(ce,{disabled:n},r)))};function st(){var e=o._taggedTemplateLiteral(["\n  ",";\n"]);return st=function(){return e},e}function ft(){var e=o._taggedTemplateLiteral(["\n  ",";\n"]);return ft=function(){return e},e}function pt(){var e=o._taggedTemplateLiteral(["\n  min-width: 100%;\n  padding-bottom: ",";\n"]);return pt=function(){return e},e}function gt(){var e=o._taggedTemplateLiteral(["\n  background: white;\n  border: 1px solid #eeeeee;\n  border-radius: 8px;\n  display: flex;\n  box-shadow: 0px 1px 3px 0px ",";\n\n  & .skeleton {\n    animation: ",";\n  }\n"]);return gt=function(){return e},e}ct.propTypes={iconInfo:s.default.shape({icon_url:s.default.string,icon_name:s.default.string,short_title:s.default.string,url:s.default.string}),disabled:s.default.bool,onImageClick:s.default.func};var mt=p.default(o.Box)(gt(),o.colors.shadow,(function(e){return!e.animating&&"initial"})),ht=p.default(mt)(pt(),(function(e){var t=e.type;return"calc(100% * ".concat(_[t],")")}));ht.defaultProps={type:l.CouponType.FULL};var vt=p.default(o.Box)(ft(),o.getAbsoluteStyle()),xt=p.default(mt)(st(),o.getAbsoluteStyle()),Et=function(e){var t=e.animating;return f.default.createElement(xt,{animating:t},f.default.createElement(vt,{display:"flex"},f.default.createElement(lt,{ml:"0px"},f.default.createElement(o.Image,{src:o.placeholderImage,width:116,height:116,borderRadius:8,alt:"placeholder-image"})),f.default.createElement(Ke,{p:12},f.default.createElement(o.Skeleton,{width:"85%",height:24,mb:4,borderRadius:4}),f.default.createElement(o.Skeleton,{width:"70%",height:20,borderRadius:4}),f.default.createElement(Ze,null,f.default.createElement(o.Skeleton,{width:"50%",height:20,borderRadius:4}),f.default.createElement(o.Skeleton,{width:55,height:30,borderRadius:4,ml:"auto"})))))};Et.propTypes={animating:s.default.bool};var bt=[l.CouponStatus.EXPIRED,l.CouponStatus.NOT_ELIGIBLE],wt=function(e){var t=e.couponInfo,n=void 0===t?{}:t,a=e.status,r=void 0===a?"available":a,i=e.onAction,u=e.onImageClick,d=e.loading,c=void 0!==d&&d,s=e.loadingAnimation,p=void 0===s||s,m=e.hideActionButton,h=e.hideTooltipCouponCode,x=e["data-view-index"],E=o._objectWithoutProperties(e,["couponInfo","status","onAction","onImageClick","loading","loadingAnimation","hideActionButton","hideTooltipCouponCode","data-view-index"]),b=o.getFinalCouponInfo(n),y=b.icon_url,C=void 0===y?"":y,_=b.icon_name,I=void 0===_?"":_,T=b.short_title,k=void 0===T?"":T,L=b.short_description,A=void 0===L?"":L,F=b.period,S=void 0===F?"":F,D=b.url,O=void 0===D?"":D,H=b.tags,P=void 0===H?[]:H,W=b.coupon_code,V=void 0===W?"":W,j=b.long_description,G={icon_url:C,icon_name:I,short_title:k,url:O},X={tags:P,short_title:k,short_description:A,period:S,coupon_code:V,long_description:void 0===j?"":j},q=l.useBoundingClientRect(),Y=q.elemRef,U=q.boundingRect,J=g.default(U,"width")||0,K=function(e){switch(e){case l.CouponStatus.AVAILABLE:return w;case l.CouponStatus.APPLIED:return v;default:return w}}(r),Q=M(r),Z=bt.includes(r),$=c||!J;return f.default.createElement(N,o._extends({type:l.CouponType.FULL},E),$&&f.default.createElement(Et,{animating:p}),f.default.createElement(B,{type:l.CouponType.FULL,visible:!$},f.default.createElement(K,{ref:Y,className:"coupon-bg",pixelWidth:J}),f.default.createElement(z,null,!$&&Q&&f.default.createElement(R,{src:Q,bottom:4,right:4,alt:"".concat(r,"-stamp")}),f.default.createElement(ct,{iconInfo:G,disabled:Z,onImageClick:u}),f.default.createElement(tt,{detailInfo:X,status:r,disabled:Z,onAction:i,hideActionButton:m,hideTooltipCouponCode:h,dataViewIndex:x}))))};wt.propTypes={couponInfo:s.default.shape({short_title:s.default.string,short_description:s.default.string,long_description:s.default.oneOfType([s.default.string,s.default.array]),icon_url:s.default.string,icon_name:s.default.string,tags:s.default.array,url:s.default.string,period:s.default.string,coupon_code:s.default.string}),status:s.default.oneOf(["available","saved","expired","eligible","applied","not_eligible"]),loading:s.default.bool,loadingAnimation:s.default.bool,hideActionButton:s.default.bool,onAction:s.default.func,onImageClick:s.default.func,className:s.default.string,hideTooltipCouponCode:s.default.bool};var yt=f.default.memo(wt);function Ct(){var e=o._taggedTemplateLiteral(["\n  position: relative;\n"]);return Ct=function(){return e},e}function _t(){var e=o._taggedTemplateLiteral(["\n  width: 100%;\n  height: auto;\n  filter: drop-shadow(0px 1px 3px ",");\n  position: absolute;\n"]);return _t=function(){return e},e}var It=o.getBox("img"),Tt=p.default(It)(_t(),o.colors.shadow);p.default(It)(Ct());function kt(){var e=o._taggedTemplateLiteral(["\n  color: ",";\n"]);return kt=function(){return e},e}function Lt(){var e=o._taggedTemplateLiteral(["\n  width: 100%;\n  background: ",";\n  padding: 6px 12px;\n  text-align: center;\n  border-top-left-radius: 8px;\n  border-top-right-radius: 8px;\n  margin-bottom: 6px;\n"]);return Lt=function(){return e},e}function At(){var e=o._taggedTemplateLiteral(["\n  font-size: 15px;\n  font-weight: 500;\n  cursor: pointer;\n  /* margin-top: auto; */\n  background: ",";\n  color: ",";\n"]);return At=function(){return e},e}function Bt(){var e=o._taggedTemplateLiteral(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  height: 100%;\n  width: 100%;\n"]);return Bt=function(){return e},e}var Ft=p.default(o.Box)(Bt()),St=o.getBox("span"),Dt=p.default(St)(At(),o.colors.white,o.colors.deepSkyBlue),Rt=p.default(o.Box)(Lt(),(function(e){var t=e.disabled;return"".concat(t?o.colors.pinkishGrey:o.colors.deepSkyBlue)})),Ot=p.default(le)(kt(),o.colors.white),Ht=[l.CouponStatus.AVAILABLE],Pt=function(e){var t=e.detailInfo,n=e.status,a=e.disabled,r=e.onAction,i=e.showIcon,l=e.hideActionButton,u=e.hideTooltipCouponCode,d=e.dataViewIndex,c=t.short_title,s=t.short_description,p=t.coupon_code,g=t.period,m=t.long_description,h=Ht.includes(n);l&&(h=!l);var v={coupon_code:p,period:g,long_description:m};return f.default.createElement(Ft,null,i?f.default.createElement(le,{disabled:a},c):f.default.createElement(Rt,{disabled:a},f.default.createElement(Ot,{disabled:a},c)),f.default.createElement(de,null,s),f.default.createElement(Ve,{iconWidth:16,iconHeight:16,mt:4,transform:"translateY(-8px)",disabled:a,popoverInfo:v,hideTooltipCouponCode:u,dataViewIndex:d}),h&&f.default.createElement(o.Box,{position:"absolute",bottom:0,display:"flex",flex:1,height:i?"26%":"37%",alignItems:"center"},f.default.createElement(Dt,{onClick:r,"data-view-id":"coupon_save_button","data-view-index":d,"data-view-label":p},"L\u01afU")))};function Nt(){var e=o._taggedTemplateLiteral(["\n  margin-bottom: 4px;\n"]);return Nt=function(){return e},e}function Wt(){var e=o._taggedTemplateLiteral(["\n  position: relative;\n  width: 56px;\n  height: 56px;\n  margin-top: 8px;\n  margin-bottom: 4px;\n"]);return Wt=function(){return e},e}Pt.propTypes={detailInfo:s.default.shape({short_title:s.default.string,short_description:s.default.string,coupon_code:s.default.string,period:s.default.string,long_description:s.default.oneOfType([s.default.string,s.default.array])}),status:s.default.oneOf([l.CouponStatus.AVAILABLE,l.CouponStatus.SAVED,l.CouponStatus.EXPIRED]),disabled:s.default.bool,onAction:s.default.func,hideActionButton:s.default.bool,showIcon:s.default.bool,hideTooltipCouponCode:s.default.bool};var zt=p.default(o.Box)(Wt()),Mt=p.default(o.Box)(Nt()),Vt=function(e){var t=e.iconInfo,n=e.disabled,o=e.onImageClick,a=t.icon_url,r=t.icon_name,i=t.short_title,l=t.url;return f.default.createElement(f.default.Fragment,null,f.default.createElement(zt,null,f.default.createElement(ot,{src:a,alt:r||i,ratio:1,disabled:n,onClick:o,href:l})),r&&f.default.createElement(Mt,null,f.default.createElement(ce,{disabled:n},r)))};function jt(){var e=o._taggedTemplateLiteral(["\n  position: relative;\n  display: flex;\n  height: 100%;\n  padding: ",";\n  flex-direction: column;\n  align-items: center;\n"]);return jt=function(){return e},e}Vt.propTypes={iconInfo:s.default.shape({icon_url:s.default.string,icon_name:s.default.string,short_title:s.default.string,url:s.default.string}),disabled:s.default.bool,onImageClick:s.default.func};var Gt=p.default(W)(jt(),(function(e){return e.showIcon?"0px 12px 12px":"0px 0px 12px"})),Xt=function(e){var t=e.type,n=e.animating,a=t===l.CouponType.MINI;return f.default.createElement(ht,{type:t,animating:n},f.default.createElement(vt,null,f.default.createElement(Gt,{showIcon:!0},a&&f.default.createElement(zt,null,f.default.createElement(o.Image,{src:o.placeholderImage,borderRadius:8,alt:"placeholder-image"})),f.default.createElement(Ft,{alignItems:"flex-start"},f.default.createElement(o.Skeleton,{width:206,height:24,borderRadius:4,mb:4,mt:a?0:8}),f.default.createElement(o.Skeleton,{width:160,height:20,borderRadius:4,mb:4}),f.default.createElement(o.Skeleton,{width:90,height:20,borderRadius:4,mb:4}),f.default.createElement(o.Skeleton,{width:60,height:30,borderRadius:4,margin:"auto auto 0px"})))))};Xt.propTypes={type:s.default.oneOf([l.CouponType.MINI,l.CouponType.MINI_NO_ICON]),animating:s.default.bool};var qt=[l.CouponStatus.EXPIRED],Yt=function(e){var t=e.couponInfo,n=void 0===t?{}:t,a=e.status,r=void 0===a?"available":a,i=e.showIcon,u=void 0===i||i,d=e.onAction,c=e.onImageClick,s=(e.className,e.loading),p=void 0!==s&&s,g=e.loadingAnimation,m=void 0===g||g,h=e.hideActionButton,v=e.hideTooltipCouponCode,x=e["data-view-index"],E=o._objectWithoutProperties(e,["couponInfo","status","showIcon","onAction","onImageClick","className","loading","loadingAnimation","hideActionButton","hideTooltipCouponCode","data-view-index"]),b=o.getFinalCouponInfo(n),w=b.icon_url,y=void 0===w?"":w,C=b.icon_name,_=void 0===C?"":C,I=b.short_title,T=void 0===I?"":I,k=b.short_description,L=void 0===k?"":k,A=b.url,B=void 0===A?"":A,S=b.coupon_code,D=void 0===S?"":S,O=b.period,H=void 0===O?"":O,P=b.long_description,W={icon_url:y,icon_name:_,short_title:T,url:B},z={short_title:T,short_description:L,coupon_code:D,period:H,long_description:void 0===P?"":P},V=l.useImageLoaded(),j=V.imageRef,G=V.imageLoaded,X=function(e){return e?"data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20width%3D%22232%22%20height%3D%22218%22%20viewBox%3D%220%200%20232%20218%22%3E%20%20%20%20%3Cdefs%3E%20%20%20%20%20%20%20%20%3Cpath%20id%3D%22mpbwrew9ka%22%20d%3D%22M224%200c4.418%200%208%203.582%208%208v145.5c-4.418%200-8%203.582-8%208s3.582%208%208%208V210c0%204.418-3.582%208-8%208H8c-4.418%200-8-3.582-8-8v-40.5c4.418%200%208-3.582%208-8s-3.582-8-8-8V8c0-4.418%203.582-8%208-8h216z%22%2F%3E%20%20%20%20%3C%2Fdefs%3E%20%20%20%20%3Cg%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%20%20%20%20%20%20%20%20%3Cg%3E%20%20%20%20%20%20%20%20%20%20%20%20%3Cg%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cg%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cg%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cg%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cg%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cg%20transform%3D%22translate%28-4762%20-2800%29%20translate%283628%2080%29%20translate%2842%202459%29%20translate%280%20140%29%20translate%280%2085%29%20translate%281092%29%20translate%280%2036%29%22%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cmask%20id%3D%22cb1u1qrjeb%22%20fill%3D%22%23fff%22%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cuse%20xlink%3Ahref%3D%22%23mpbwrew9ka%22%2F%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fmask%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cuse%20fill%3D%22%23FFF%22%20xlink%3Ahref%3D%22%23mpbwrew9ka%22%2F%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cg%20stroke%3D%22%23EEE%22%20stroke-dasharray%3D%222%204%22%20stroke-linecap%3D%22square%22%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M0%200.5L216%200.5%22%20transform%3D%22translate%2810%20161%29%22%2F%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fg%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fg%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fg%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fg%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fg%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fg%3E%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fg%3E%20%20%20%20%20%20%20%20%3C%2Fg%3E%20%20%20%20%3C%2Fg%3E%3C%2Fsvg%3E":"data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20width%3D%22232%22%20height%3D%22148%22%20viewBox%3D%220%200%20232%20148%22%3E%20%20%20%20%3Cdefs%3E%20%20%20%20%20%20%20%20%3Cpath%20id%3D%22bwbkpq4a3a%22%20d%3D%22M224%200c4.418%200%208%203.582%208%208v75.5c-4.418%200-8%203.582-8%208s3.582%208%208%208V140c0%204.418-3.582%208-8%208H8c-4.418%200-8-3.582-8-8V99.5c4.418%200%208-3.582%208-8s-3.582-8-8-8V8c0-4.418%203.582-8%208-8h216z%22%2F%3E%20%20%20%20%3C%2Fdefs%3E%20%20%20%20%3Cg%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%20%20%20%20%20%20%20%20%3Cg%3E%20%20%20%20%20%20%20%20%20%20%20%20%3Cg%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cg%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cg%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cg%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cg%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cg%20transform%3D%22translate%28-4510%20-2800%29%20translate%283628%2080%29%20translate%2842%202459%29%20translate%280%20140%29%20translate%280%2085%29%20translate%28840%29%20translate%280%2036%29%22%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cmask%20id%3D%224w1jvygo3b%22%20fill%3D%22%23fff%22%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cuse%20xlink%3Ahref%3D%22%23bwbkpq4a3a%22%2F%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fmask%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cuse%20fill%3D%22%23FFF%22%20xlink%3Ahref%3D%22%23bwbkpq4a3a%22%2F%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cg%20stroke%3D%22%23EEE%22%20stroke-dasharray%3D%222%204%22%20stroke-linecap%3D%22square%22%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M0%200.5L216%200.5%22%20transform%3D%22translate%2810%2091%29%22%2F%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fg%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fg%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fg%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fg%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fg%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fg%3E%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fg%3E%20%20%20%20%20%20%20%20%3C%2Fg%3E%20%20%20%20%3C%2Fg%3E%3C%2Fsvg%3E"}(u),q=M(r),Y=qt.includes(r),U=p||!G,J=u?l.CouponType.MINI:l.CouponType.MINI_NO_ICON;return f.default.createElement(N,o._extends({type:J},E),U&&f.default.createElement(Xt,{type:J,animating:m}),f.default.createElement(F,{type:J,visible:!U},f.default.createElement(Tt,{src:X,alt:"coupon-background",ref:j}),f.default.createElement(Gt,{showIcon:u},!U&&q&&f.default.createElement(R,{bottom:4,left:"50%",transform:"translateX(-50%)",src:q,alt:"".concat(r,"-stamp")}),u&&f.default.createElement(Vt,{iconInfo:W,disabled:Y,onImageClick:c}),f.default.createElement(Pt,{detailInfo:z,status:r,disabled:Y,onAction:d,showIcon:u,hideActionButton:h,hideTooltipCouponCode:v,dataViewIndex:x}))))};Yt.propTypes={couponInfo:s.default.shape({short_title:s.default.string,short_description:s.default.string,long_description:s.default.oneOfType([s.default.string,s.default.array]),icon_url:s.default.string,icon_name:s.default.string,url:s.default.string,coupon_code:s.default.string,period:s.default.string}),showIcon:s.default.bool,status:s.default.oneOf(["available","saved","expired"]),loading:s.default.bool,loadingAnimation:s.default.bool,hideActionButton:s.default.bool,onAction:s.default.func,onImageClick:s.default.func,className:s.default.string,hideTooltipCouponCode:s.default.bool};var Ut=f.default.memo(Yt);function Jt(e,t){var n=e.pixelWidth,a=o._objectWithoutProperties(e,["pixelWidth"]),i=n-8;return r.createElement("svg",o._extends({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(n," 60"),ref:t},a),r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("g",{stroke:"#017FFF"},r.createElement("g",null,r.createElement("g",null,r.createElement("g",null,r.createElement("g",null,r.createElement("g",null,r.createElement("path",{fill:"#E5F2FF",d:"M ".concat(i," 0.5 c 2.071 0 3.946 0.84 5.303 2.197 c 1.358 1.357 2.197 3.232 2.197 5.303 h 0 v 44 c 0 2.071 -0.84 3.946 -2.197 5.303 c -1.357 1.358 -3.232 2.197 -5.303 2.197 h 0 H 64.973 c -0.116 -1.043 -0.587 -1.978 -1.291 -2.682 c -0.814 -0.814 -1.94 -1.318 -3.182 -1.318 c -1.243 0 -2.368 0.504 -3.182 1.318 c -0.704 0.704 -1.175 1.64 -1.29 2.682 h 0 h -48.028 c -2.071 0 -3.946 -0.84 -5.303 -2.197 c -1.358 -1.357 -2.197 -3.232 -2.197 -5.303 h 0 V 8 c 0 -2.071 0.84 -3.946 2.197 -5.303 c 1.357 -1.358 3.232 -2.197 5.303 -2.197 h 48.027 c 0.116 1.043 0.587 1.978 1.291 2.682 c 0.814 0.814 1.94 1.318 3.182 1.318 c 1.243 0 2.368 -0.504 3.182 -1.318 c 0.704 -0.704 1.175 -1.64 1.29 -2.682 H 64.972 z"),transform:"translate(-1024 -2912) translate(80 2252) translate(0 460) translate(464) translate(480) translate(0 200)"}),r.createElement("g",{strokeDasharray:"2 4",strokeLinecap:"square"},r.createElement("path",{d:"M0.5 0L0.5 48",transform:"translate(-1024 -2912) translate(80 2252) translate(0 460) translate(464) translate(480) translate(0 200) translate(60 8)"}))))))))))}var Kt=r.forwardRef(Jt);function Qt(e,t){var n=e.pixelWidth,a=o._objectWithoutProperties(e,["pixelWidth"]),i=n-8;return r.createElement("svg",o._extends({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(n," 60"),ref:t},a),r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("g",null,r.createElement("g",null,r.createElement("g",null,r.createElement("g",null,r.createElement("g",null,r.createElement("path",{fill:"#FFF",d:"M".concat(i," 0c4.418 0 8 3.582 8 8v44c0 4.418-3.582 8-8 8H64.5c0-2.21-1.79-4-4-4s-4 1.79-4 4H8c-4.418 0-8-3.582-8-8V8c0-4.418 3.582-8 8-8h48.5c0 2.21 1.79 4 4 4s4-1.79 4-4H278z"),transform:"translate(-544 -2912) translate(80 2252) translate(0 460) translate(464) translate(0 200)"}),r.createElement("g",{stroke:"#EEE",strokeDasharray:"2 4",strokeLinecap:"square"},r.createElement("path",{d:"M0.5 0L0.5 48",transform:"translate(-544 -2912) translate(80 2252) translate(0 460) translate(464) translate(0 200) translate(60 8)"})))))))))}var Zt=r.forwardRef(Qt);function $t(){var e=o._taggedTemplateLiteral(["\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n\n  padding: 8px 12px 8px 8px;\n  /* full width minus left coupon icon width */\n  width: calc(100% - 60px);\n"]);return $t=function(){return e},e}var en=p.default.div($t()),tn=[l.CouponStatus.ELIGIBLE,l.CouponStatus.APPLIED],nn=function(e){var t,n=e.detailInfo,a=e.status,i=e.disabled,u=e.onAction,d=e.hideActionButton,c=e.hideTooltipCouponCode,s=e.dataViewIndex,p=n.short_title,g=n.coupon_code,m=n.period,h=n.long_description,v="";a===l.CouponStatus.ELIGIBLE?(v="\xc1p D\u1ee5ng",t="coupon_apply_button"):a===l.CouponStatus.APPLIED&&(v="B\u1ecf Ch\u1ecdn",t=void 0);var x=tn.includes(a);d&&(x=!d);var E={coupon_code:g,period:m,long_description:h},b=r.useCallback((function(e){e.stopPropagation(),u&&u()}),[u]);return f.default.createElement(en,null,f.default.createElement(le,{disabled:i,fontSize:13,lineHeight:"20px",maxHeight:20,mr:4},p),f.default.createElement(o.Box,{display:"flex",ml:"auto",alignItems:"center",flexShrink:0},f.default.createElement(Ve,{disabled:i,popoverInfo:E,hideTooltipCouponCode:c,iconWidth:16,iconHeight:16,mr:i&&58,ml:-8,dataViewIndex:s}),x&&f.default.createElement(X,{ml:"auto",whiteSpace:"nowrap",onClick:b,size:"small",fontSize:13,lineHeight:"20px","data-view-id":t,"data-view-index":s,"data-view-label":g},v)))};function on(){var e=o._taggedTemplateLiteral(["\n  position: relative;\n  width: 44px;\n  height: 44px;\n"]);return on=function(){return e},e}function an(){var e=o._taggedTemplateLiteral(["\n  min-width: 60px;\n  width: 60px;\n  height: 60px;\n\n  padding: 8px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  align-self: center;\n  justify-content: center;\n"]);return an=function(){return e},e}nn.propTypes={detailInfo:s.default.shape({short_title:s.default.string,coupon_code:s.default.string,period:s.default.string,long_description:s.default.oneOfType([s.default.string,s.default.array])}),status:s.default.oneOf(Object.values(l.CouponStatus)),disabled:s.default.bool,hideActionButton:s.default.bool,onAction:s.default.func,hideTooltipCouponCode:s.default.bool};var rn=p.default(o.Box)(an()),ln=p.default(o.Box)(on()),un=function(e){var t=e.iconInfo,n=e.disabled,o=t.icon_url,a=t.short_title;return f.default.createElement(rn,null,f.default.createElement(ln,null,f.default.createElement(ot,{src:o,alt:a,ratio:1,disabled:n})))};un.propTypes={iconInfo:s.default.shape({icon_url:s.default.string,short_title:s.default.string}),disabled:s.default.bool};var dn=function(e){var t=e.animating;return f.default.createElement(xt,{animating:t},f.default.createElement(vt,{display:"flex"},f.default.createElement(rn,null,f.default.createElement(o.Image,{src:o.placeholderImage,width:60,height:60,borderRadius:4,alt:"placeholder-image"})),f.default.createElement(en,null,f.default.createElement(o.Skeleton,{width:"60%",height:20,borderRadius:4}),f.default.createElement(o.Skeleton,{width:55,height:30,borderRadius:4,ml:"auto"}))))};dn.propTypes={animating:s.default.bool};var cn=[l.CouponStatus.EXPIRED,l.CouponStatus.NOT_ELIGIBLE],sn=function(e){var t=e.couponInfo,n=void 0===t?{}:t,a=e.status,r=void 0===a?"eligible":a,i=e.onAction,u=e.onCouponClick,d=e.loading,c=void 0!==d&&d,s=e.loadingAnimation,p=void 0===s||s,m=e.hideActionButton,h=e.hideTooltipCouponCode,v=e["data-view-index"],x=o._objectWithoutProperties(e,["couponInfo","status","onAction","onCouponClick","loading","loadingAnimation","hideActionButton","hideTooltipCouponCode","data-view-index"]),E=o.getFinalCouponInfo(n),b=E.icon_url,w=void 0===b?"":b,y=E.short_title,C=void 0===y?"":y,_=E.coupon_code,I=void 0===_?"":_,T=E.period,k=void 0===T?"":T,L=E.long_description,A={icon_url:w,short_title:C},F={short_title:C,coupon_code:I,period:k,long_description:void 0===L?"":L},S=l.useBoundingClientRect(),D=S.elemRef,O=S.boundingRect,H=g.default(O,"width")||0,P=function(e){switch(e){case l.CouponStatus.ELIGIBLE:return Zt;case l.CouponStatus.APPLIED:return Kt;default:return Zt}}(r),W=M(r),V=cn.includes(r),j=c||!H;return f.default.createElement(N,o._extends({type:l.CouponType.LITE},x,{onClick:u}),j&&f.default.createElement(dn,{animating:p}),f.default.createElement(B,{type:l.CouponType.LITE,visible:!j},f.default.createElement(P,{ref:D,className:"coupon-bg",pixelWidth:H}),f.default.createElement(z,null,!j&&W&&f.default.createElement(R,{src:W,size:"small",width:62,height:48,bottom:4,right:6,alt:"".concat(r,"-stamp")}),f.default.createElement(un,{iconInfo:A,disabled:V}),f.default.createElement(nn,{detailInfo:F,status:r,disabled:V,onAction:i,hideActionButton:m,hideTooltipCouponCode:h,dataViewIndex:v}))))};sn.propTypes={couponInfo:s.default.shape({short_title:s.default.string,icon_url:s.default.string,coupon_code:s.default.string,period:s.default.string,long_description:s.default.oneOfType([s.default.string,s.default.array])}),status:s.default.oneOf(["expired","eligible","applied","not_eligible"]),loading:s.default.bool,loadingAnimation:s.default.bool,hideActionButton:s.default.bool,onAction:s.default.func,onCouponClick:s.default.func,className:s.default.string,hideTooltipCouponCode:s.default.bool};var fn=f.default.memo(sn);t.Button=X,t.FullCoupon=yt,t.LiteCoupon=fn,t.MiniCoupon=Ut,t.Tag=Xe,t.Toast=ee}}]);